<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Study Hub by Las Omed</title>
<style>
:root {--bg:#fff;--text:#000;--primary:#0078ff;}
[data-theme="dark"]{--bg:#121212;--text:#fff;--primary:#00bfff;}
body{margin:0;font-family:Poppins,sans-serif;background:var(--bg);color:var(--text);transition:.3s;}
header{display:flex;justify-content:space-between;align-items:center;padding:15px 20px;background:var(--primary);color:#fff;}
.menu{position:relative;}
.menu button{background:none;border:none;color:#fff;font-size:24px;cursor:pointer;}
.dropdown{display:none;position:absolute;right:0;top:40px;background:var(--bg);box-shadow:0 2px 10px rgba(0,0,0,.2);border-radius:8px;overflow:hidden;}
.dropdown a{display:block;padding:10px 15px;text-decoration:none;color:var(--text);}
.dropdown a:hover{background:rgba(0,0,0,.1);}
main{text-align:center;padding:20px;}
.hidden{display:none;}
button{background:var(--primary);color:#fff;border:none;padding:10px 20px;border-radius:8px;cursor:pointer;}
input,textarea,select{padding:8px;border:1px solid #ccc;border-radius:6px;}
.leaderboard-list{display:flex;flex-direction:column;align-items:center;gap:10px;max-width:400px;margin:20px auto;}
.leader-card{width:100%;background:var(--bg);color:var(--text);border:1px solid #ccc;border-radius:10px;padding:10px 15px;box-shadow:0 2px 8px rgba(0,0,0,.15);display:flex;justify-content:space-between;align-items:center;font-weight:500;}
.gold{border-color:#ffd700;background:rgba(255,215,0,.15);}
.silver{border-color:#c0c0c0;background:rgba(192,192,192,.15);}
.bronze{border-color:#cd7f32;background:rgba(205,127,50,.15);}
</style>
</head>
<body data-theme="light">
<header>
  <h2>Study Hub</h2>
  <div class="menu">
    <button id="menuBtn">⋮</button>
    <div class="dropdown" id="menuDropdown">
      <a href="#" onclick="showSection('calculator')">Calculator</a>
      <a href="#" onclick="showSection('gpa')">GPA Calculator</a>
      <a href="#" onclick="showSection('quiz')">Quiz Generator</a>
      <a href="#" onclick="showSection('feedback')">Feedback</a>
      <a href="#" onclick="showSection('contact')">Contact</a>
      <a href="#" onclick="showSection('chat')">Chat</a>
      <a href="#" onclick="showSection('leaderboard')">Leaderboard</a>
    </div>
  </div>
</header>

<main id="welcomeScreen">
  <h1>Welcome to Study Hub</h1>
  <p>Enter your name to continue:</p>
  <input id="usernameInput" placeholder="Your name">
  <button onclick="enterSite()">Enter</button>
</main>

<main id="mainContent" class="hidden">
  <button onclick="toggleTheme()">Toggle Dark/Light Mode</button>

  <section id="calculator" class="hidden">
    <h3>Calculator</h3>
    <input id="calcInput" placeholder="e.g. 5+5*2">
    <button onclick="calculate()">=</button>
    <p id="calcResult"></p>
  </section>

  <section id="gpa" class="hidden">
    <h3>GPA Calculator</h3>
    <p>Enter grades separated by commas (e.g. 90,80,100):</p>
    <input id="gpaInput">
    <button onclick="calcGPA()">Calculate</button>
    <p id="gpaResult"></p>
  </section>

  <section id="quiz" class="hidden">
    <h3>Quiz Generator</h3>
    <p>Select subject:</p>
    <select id="subjectSelect">
      <option>Math</option><option>Biology</option><option>Arabic</option>
      <option>Kurdish</option><option>Turkish</option><option>English</option>
    </select>
    <button onclick="startQuiz()">Start Quiz</button>
    <div id="quizBox"></div>
  </section>

  <section id="feedback" class="hidden">
    <h3>Feedback</h3>
    <textarea id="feedbackText" placeholder="Your feedback..." rows="4" cols="40"></textarea><br>
    <button onclick="alert('Thanks for your feedback!')">Send</button>
  </section>

  <section id="contact" class="hidden">
    <h3>Contact</h3>
    <p>Email: <a href="mailto:studyhub@iraq.com">studyhub@iraq.com</a></p>
    <p>Instagram: <a href="https://instagram.com/Las_omed11">@Las_omed11</a></p>
  </section>

  <section id="chat" class="hidden">
    <h3>Chat</h3>
    <script id="cid0020000421705628282" data-cfasync="false" async src="//st.chatango.com/js/gz/emb.js" style="width:100%;height:400px;">
    {"handle":"students-chat","arch":"js","styles":{"a":"CC0000","b":100,"c":"FFFFFF","d":"FFFFFF","k":"CC0000","l":"CC0000","m":"CC0000","n":"FFFFFF","p":"10","q":"CC0000","r":100,"pos":"br","cv":1,"cvbg":"CC0000","cvw":75,"cvh":30,"ticker":1,"fwtickm":1}}
    </script>
  </section>

  <section id="leaderboard" class="hidden">
    <h3>Leaderboard</h3>
    <div id="leaderboardList" class="leaderboard-list"></div>
  </section>
</main>

<script>
const menuBtn=document.getElementById('menuBtn');
const menuDropdown=document.getElementById('menuDropdown');
menuBtn.onclick=()=>menuDropdown.style.display=menuDropdown.style.display==='block'?'none':'block';
const userKey='studyhubUsers';let currentUser='';
function enterSite(){
 const n=document.getElementById('usernameInput').value.trim();
 if(!n)return alert('Please enter your name');
 currentUser=n;
 document.getElementById('welcomeScreen').classList.add('hidden');
 document.getElementById('mainContent').classList.remove('hidden');
 loadLeaderboard();
}
function toggleTheme(){
 const b=document.body,t=b.getAttribute('data-theme');
 b.setAttribute('data-theme',t==='light'?'dark':'light');
}
function showSection(id){
 document.querySelectorAll('#mainContent section').forEach(s=>s.classList.add('hidden'));
 document.getElementById(id).classList.remove('hidden');
 menuDropdown.style.display='none';
}
function calculate(){
 const i=document.getElementById('calcInput').value;
 try{document.getElementById('calcResult').innerText=eval(i);}catch{document.getElementById('calcResult').innerText='Error';}
}
function calcGPA(){
 const g=document.getElementById('gpaInput').value.split(',').map(Number);
 const a=g.reduce((x,y)=>x+y,0)/g.length||0;
 document.getElementById('gpaResult').innerText='GPA: '+(a/25).toFixed(2);
}
const quizData={
 Math:[{q:'2 + 2 = ?',a:['3','4','5','6'],c:1},{q:'5×3 = ?',a:['8','15','10','12'],c:1}],
 Biology:[{q:'What is the basic unit of life?',a:['Cell','Atom','Molecule','Organ'],c:0},{q:'Which organelle produces energy?',a:['Nucleus','Mitochondria','Ribosome','Chloroplast'],c:1}],
 English:[{q:'“Run” is a...',a:['Noun','Verb','Adjective','Pronoun'],c:1},{q:'Opposite of “hot”?',a:['Cold','Warm','Cool','Burn'],c:0}],
 Arabic:[{q:'كم عدد حروف اللغة العربية؟',a:['28','27','30','26'],c:0}],
 Kurdish:[{q:'What is “school” in Kurdish?',a:['Qutabxane','Xwendn','Mamosta','Pênûs'],c:0}],
 Turkish:[{q:'What is “Hello” in Turkish?',a:['Merhaba','Hola','Bonjour','Hallo'],c:0}]
};
function startQuiz(){
 const s=document.getElementById('subjectSelect').value,b=document.getElementById('quizBox'),q=quizData[s];
 if(!q)return;b.innerHTML='';let sc=0,i=0;
 render();
 function render(){
   if(i>=5||i>=q.length){b.innerHTML=`<h4>Done! You scored ${sc}/${i}</h4>`;saveScore(sc);loadLeaderboard();return;}
   const Q=q[i];
   b.innerHTML=`<p>${Q.q}</p>`+Q.a.map((x,j)=>`<button onclick="check(${j})">${x}</button>`).join('<br>');
 }
 window.check=j=>{if(j===q[i].c)sc++;i++;render();}
}
function saveScore(s){
 const u=JSON.parse(localStorage.getItem(userKey)||'[]');
 const e=u.find(x=>x.name===currentUser);
 if(e)e.score=Math.max(e.score,s);else u.push({name:currentUser,score:s});
 localStorage.setItem(userKey,JSON.stringify(u));
}
function loadLeaderboard(){
 const u=JSON.parse(localStorage.getItem(userKey)||'[]');
 u.sort((a,b)=>b.score-a.score);
 const L=document.getElementById('leaderboardList');
 if(!L)return;
 if(u.length===0){L.innerHTML="<p>No scores yet — be the first to take a quiz!</p>";return;}
 L.innerHTML=u.map((x,i)=>{
  let c='';if(i===0)c='gold';else if(i===1)c='silver';else if(i===2)c='bronze';
  return `<div class='leader-card ${c}'><span>${i+1}. ${x.name}</span><span>${x.score}</span></div>`;
 }).join('');
}
</script>
</body>
</html>
